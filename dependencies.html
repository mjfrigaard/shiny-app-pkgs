<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-01-20">
<meta name="description" content="Getting your app into an R package">

<title>6&nbsp; Dependencies – Shiny App-Packages</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data.html" rel="next">
<link href="./document.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7cb4b303de7ee40d7b7b73459d742b02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./app_packages.html">App-packages</a></li><li class="breadcrumb-item"><a href="./dependencies.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Dependencies</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Shiny App-Packages</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/mjfrigaard/shiny-app-pkgs" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./whole_game.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Whole app game</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./shiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Shiny</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Packages</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Development</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./app_packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">App-packages</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./document.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Documentation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dependencies.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Dependencies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./launch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Launch</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Resources</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debug</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./debugger.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Debuggers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./debug_print.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Print debugging</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./debug_apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Debugging apps</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Logging</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tests</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./test_suite.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Test suite</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./test_specs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Specifications</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./test_tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Test tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./test_modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Testing modules</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./test_system.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">System tests</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./deploy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deploy</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./shinyappsio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">shinyapps.io</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./docker.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Docker</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gha.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">GitHub Actions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkgdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">pkgdown</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./frameworks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frameworks</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./golem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">golem</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./leprechaun.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">leprechaun</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./charpente.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">charpente</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rhino.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">rhino</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./special_topics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Special topics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai_tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">AI Tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Code Style</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">App data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stack_traces.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Stack traces</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./entanglement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Dependency hell</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Glossary of terms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">GitHub</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./create.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Packages FAQ</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bdd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">BDD</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./test_snapshots_mocks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Mocks and snapshots</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comparisons.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Comparisons</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rhino_cicd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Rhino CI/CD</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#identifying-dependencies" id="toc-identifying-dependencies" class="nav-link active" data-scroll-target="#identifying-dependencies">Identifying dependencies</a></li>
  <li><a href="#sec-depends-exports" id="toc-sec-depends-exports" class="nav-link" data-scroll-target="#sec-depends-exports"><span class="header-section-number">6.1</span> Package exports</a>
  <ul>
  <li><a href="#export-launch_app" id="toc-export-launch_app" class="nav-link" data-scroll-target="#export-launch_app">Export <span style="font-size: 1.00em;"><code>launch_app()</code></span></a></li>
  <li><a href="#what-export-does" id="toc-what-export-does" class="nav-link" data-scroll-target="#what-export-does">What <span style="font-size: 1.00em;"><code>@export</code></span> does</a>
  <ul>
  <li><a href="#the-search-list" id="toc-the-search-list" class="nav-link" data-scroll-target="#the-search-list">The <span style="font-size: 1.00em;"><code>search()</code></span> list</a></li>
  </ul></li>
  <li><a href="#export-scatter_plot" id="toc-export-scatter_plot" class="nav-link" data-scroll-target="#export-scatter_plot">Export <span style="font-size: 1.0em;"><code>scatter_plot()</code></span></a>
  <ul>
  <li><a href="#loadednamespaces" id="toc-loadednamespaces" class="nav-link" data-scroll-target="#loadednamespaces"><span style="font-size: 0.95em;"><code>loadedNamespaces()</code></span></a></li>
  </ul></li>
  <li><a href="#what-to-export" id="toc-what-to-export" class="nav-link" data-scroll-target="#what-to-export">What to <span style="font-size: 1.00em"><code>@export</code></span></a></li>
  </ul></li>
  <li><a href="#sec-depends-imports" id="toc-sec-depends-imports" class="nav-link" data-scroll-target="#sec-depends-imports"><span class="header-section-number">6.2</span> Package imports</a>
  <ul>
  <li><a href="#package-level-depencencies" id="toc-package-level-depencencies" class="nav-link" data-scroll-target="#package-level-depencencies">Package-level depencencies</a>
  <ul>
  <li><a href="#sec-pkg-depends-description" id="toc-sec-pkg-depends-description" class="nav-link" data-scroll-target="#sec-pkg-depends-description"><span style="font-size: 1.00em"><code>Depends</code></span></a></li>
  <li><a href="#sec-pkg-imports-description" id="toc-sec-pkg-imports-description" class="nav-link" data-scroll-target="#sec-pkg-imports-description"><span style="font-size: 1.00em"><code>Imports</code></span></a></li>
  <li><a href="#sec-pkg-suggests-description" id="toc-sec-pkg-suggests-description" class="nav-link" data-scroll-target="#sec-pkg-suggests-description"><span style="font-size: 1.00em"><code>Suggests</code></span></a></li>
  </ul></li>
  <li><a href="#function-level-access" id="toc-function-level-access" class="nav-link" data-scroll-target="#function-level-access">Function-level access</a></li>
  <li><a href="#sec-depends-pkg-fun-syntax" id="toc-sec-depends-pkg-fun-syntax" class="nav-link" data-scroll-target="#sec-depends-pkg-fun-syntax">Handling imports</a>
  <ul>
  <li><a href="#sec-depends-import" id="toc-sec-depends-import" class="nav-link" data-scroll-target="#sec-depends-import">Using <span style="font-size: 1.0em; font-weight: bold;"><code>@import</code></span></a></li>
  <li><a href="#sec-depends-import-from" id="toc-sec-depends-import-from" class="nav-link" data-scroll-target="#sec-depends-import-from">Using <span style="font-size: 1.0em; font-weight: bold;"><code>@importFrom</code></span></a></li>
  <li><a href="#use_packagepkg" id="toc-use_packagepkg" class="nav-link" data-scroll-target="#use_packagepkg"><span style="font-size: 1.0em; font-weight: bold;"><code>use_package('pkg')</code></span></a></li>
  </ul></li>
  <li><a href="#what-import-does" id="toc-what-import-does" class="nav-link" data-scroll-target="#what-import-does">What <span style="font-size: 1.00em; font-weight: bold;"><code>@import</code></span> does</a>
  <ul>
  <li><a href="#the-search-list-1" id="toc-the-search-list-1" class="nav-link" data-scroll-target="#the-search-list-1">The <span style="font-size: 1.0em; font-weight: bold;"><code>search()</code></span> list</a></li>
  <li><a href="#loadednamespaces-1" id="toc-loadednamespaces-1" class="nav-link" data-scroll-target="#loadednamespaces-1"><span style="font-size: 0.95em;"><code>loadedNamespaces()</code></span></a></li>
  </ul></li>
  <li><a href="#imports-faq" id="toc-imports-faq" class="nav-link" data-scroll-target="#imports-faq">Imports FAQ</a></li>
  </ul></li>
  <li><a href="#checking-dependencies" id="toc-checking-dependencies" class="nav-link" data-scroll-target="#checking-dependencies">Checking dependencies</a></li>
  <li><a href="#recap" id="toc-recap" class="nav-link" data-scroll-target="#recap">Recap</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/mjfrigaard/shiny-app-pkgs/edit/main/dependencies.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/mjfrigaard/shiny-app-pkgs/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./app_packages.html">App-packages</a></li><li class="breadcrumb-item"><a href="./dependencies.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Dependencies</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-depends" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Dependencies</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2025-01-20</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.10em;">TLDR <code>NAMESPACE</code> &amp; <code>DESCRIPTION</code></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #282b2d;">
<p>Managing dependencies:</p>
<ul>
<li><p><strong>Exports</strong>: export objects from using <code>@export</code>. Exported functions are the functions that an app-package offers to the world (i.e., someone installs and loads the package, these are the functions they can directly use).</p></li>
<li><p><strong>Imports</strong>: import functions from add-on packages using a ‘fully qualified variable reference’ (i.e., <code>pkg::fun()</code>) in the code below <code>R/</code> and add the package name to the <code>Imports</code> field in the <code>DESCRIPTION</code>.</p>
<ul>
<li><p>If the object can’t be imported using <code>::</code> (i.e., an operator), use the <code>@importFrom</code> tag from <code>roxygen2</code></p></li>
<li><p>If your code uses a lot of functions from another package (such as <code>shiny</code> in app-packages), use the <code>@import</code> tag from <code>roxygen2</code></p></li>
</ul></li>
</ul>
<p><strong>Workflow:</strong> List the add-on package in the <code>Imports</code> field of the <code>DESCRIPTION</code> file (i.e., with <code>usethis::use_package('pkg')</code>), then decide if you’re going to the functions in <code>pkg</code> with <code>pkg::fun()</code> (preferred), <code>@importFrom</code>, or <code>@import</code>.</p>
</div>
</div>
</div>
</div>
<hr>
<p>Dependencies are the must-have components for your app-package, and they can be divided into imports and exports. - <strong>Imports</strong> are the functions we’re borrowing from add-on/third party packages (i.e., any packages not automatically loaded in a new R session).<br>
- <strong>Exports</strong> are the functions, data, and other R objects our app-package offers to users.</p>
<p>In this chapter we’ll cover how to manage dependencies in your new app-package.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.15em;">Access the applications in this chapter</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 0.95em; color: #282b2d;">
<p>I’ve created the <a href="https://mjfrigaard.github.io/shinypak/"><code>shinypak</code> R package</a> in an effort to make each section accessible and easy to follow. Install <code>shinypak</code> using <code>pak</code> (or <code>remotes</code>):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'pak'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>pak<span class="sc">::</span><span class="fu">pak</span>(<span class="st">'mjfrigaard/shinypak'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinypak)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>List the apps in this chapter:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list_apps</span>(<span class="at">regex =</span> <span class="st">'^06'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Launch apps with <code>launch()</code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">launch</span>(<span class="at">app =</span> <span class="st">'06.1_exports'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Download apps with <code>get_app()</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_app</span>(<span class="at">app =</span> <span class="st">'06.1_exports'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Dependencies are handled with in the <code>NAMESPACE</code> directives (generated via <code>roxygen2</code> tags) and three fields in the <code>DESCRIPTION</code> file (<code>Suggests</code>, <code>Imports</code>, or <code>Depends</code>). Together, these files determine which functions and packages our app-package depends on, and which functions and object we make available to users of our app-package. This chapter will pick up where we left off with the <a href="./document.html"><code>05_roxygen2</code></a> branch of <code>sap</code>.</p>
<p>Below is a folder tree of it’s contents:</p>
<div class="sourceCode" id="annotated-cell-1"><pre class="sourceCode default code-annotation-code code-with-copy code-annotated"><code class="sourceCode default"><span id="annotated-cell-1-1"><a href="#annotated-cell-1-1" aria-hidden="true" tabindex="-1"></a>sap/</span>
<span id="annotated-cell-1-2"><a href="#annotated-cell-1-2" aria-hidden="true" tabindex="-1"></a>  ├── DESCRIPTION</span>
<span id="annotated-cell-1-3"><a href="#annotated-cell-1-3" aria-hidden="true" tabindex="-1"></a>  ├── NAMESPACE</span>
<span id="annotated-cell-1-4"><a href="#annotated-cell-1-4" aria-hidden="true" tabindex="-1"></a>  ├── R/</span>
<span id="annotated-cell-1-5"><a href="#annotated-cell-1-5" aria-hidden="true" tabindex="-1"></a>  │   ├── mod_scatter_display.R</span>
<span id="annotated-cell-1-6"><a href="#annotated-cell-1-6" aria-hidden="true" tabindex="-1"></a>  │   ├── mod_var_input.R</span>
<span id="annotated-cell-1-7"><a href="#annotated-cell-1-7" aria-hidden="true" tabindex="-1"></a>  │   ├── launch_app.R</span>
<span id="annotated-cell-1-8"><a href="#annotated-cell-1-8" aria-hidden="true" tabindex="-1"></a>  │   ├── movies_server.R</span>
<span id="annotated-cell-1-9"><a href="#annotated-cell-1-9" aria-hidden="true" tabindex="-1"></a>  │   ├── movies_ui.R</span>
<span id="annotated-cell-1-10"><a href="#annotated-cell-1-10" aria-hidden="true" tabindex="-1"></a>  │   └── utils.R</span>
<span id="annotated-cell-1-11"><a href="#annotated-cell-1-11" aria-hidden="true" tabindex="-1"></a>  ├── README.md</span>
<span id="annotated-cell-1-12"><a href="#annotated-cell-1-12" aria-hidden="true" tabindex="-1"></a>  ├── app.R</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1">1</button><span id="annotated-cell-1-13" class="code-annotation-target"><a href="#annotated-cell-1-13" aria-hidden="true" tabindex="-1"></a>  ├── man/</span>
<span id="annotated-cell-1-14"><a href="#annotated-cell-1-14" aria-hidden="true" tabindex="-1"></a>  │   ├── mod_scatter_display_server.Rd</span>
<span id="annotated-cell-1-15"><a href="#annotated-cell-1-15" aria-hidden="true" tabindex="-1"></a>  │   ├── mod_scatter_display_ui.Rd</span>
<span id="annotated-cell-1-16"><a href="#annotated-cell-1-16" aria-hidden="true" tabindex="-1"></a>  │   ├── mod_var_input_server.Rd</span>
<span id="annotated-cell-1-17"><a href="#annotated-cell-1-17" aria-hidden="true" tabindex="-1"></a>  │   ├── mod_var_input_ui.Rd</span>
<span id="annotated-cell-1-18"><a href="#annotated-cell-1-18" aria-hidden="true" tabindex="-1"></a>  │   ├── launch_app.Rd</span>
<span id="annotated-cell-1-19"><a href="#annotated-cell-1-19" aria-hidden="true" tabindex="-1"></a>  │   ├── movies_server.Rd</span>
<span id="annotated-cell-1-20"><a href="#annotated-cell-1-20" aria-hidden="true" tabindex="-1"></a>  │   ├── movies_ui.Rd</span>
<span id="annotated-cell-1-21"><a href="#annotated-cell-1-21" aria-hidden="true" tabindex="-1"></a>  │   └── scatter_plot.Rd</span>
<span id="annotated-cell-1-22"><a href="#annotated-cell-1-22" aria-hidden="true" tabindex="-1"></a>  ├── movies.RData</span>
<span id="annotated-cell-1-23"><a href="#annotated-cell-1-23" aria-hidden="true" tabindex="-1"></a>  ├── sap.Rproj</span>
<span id="annotated-cell-1-24"><a href="#annotated-cell-1-24" aria-hidden="true" tabindex="-1"></a>  └── www/</span>
<span id="annotated-cell-1-25"><a href="#annotated-cell-1-25" aria-hidden="true" tabindex="-1"></a>      └── shiny.png</span>
<span id="annotated-cell-1-26"><a href="#annotated-cell-1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-1-27"><a href="#annotated-cell-1-27" aria-hidden="true" tabindex="-1"></a>4 directories, 21 files</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="13,21" data-code-annotation="1">The <code>man</code> folder now contains the help (<code>.Rd</code>) files for the functions in <code>R/</code></span>
</dd>
</dl>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.10em;">Chapter 4 recap: documenting functions with <code>roxygen2</code></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #282b2d;">
<p><strong>Required <code>@tags</code> for all functions</strong>:</p>
<ul>
<li>Make sure all functions have a documented title &amp; description (<code>@title</code> and <code>@description</code> tags optional), function inputs and outputs (<code>@param</code> and <code>@return</code>), and demonstrations of how the function works (<code>@examples</code>)</li>
</ul>
<p><strong>Shiny-specific documentation</strong>:</p>
<ul>
<li><p>Use <code>@seealso</code> to link module UI and server functions, and <code>@family</code> to link functions within a similar topic (i.e., ‘import data’ or ‘scatter plot’)</p></li>
<li><p>Provide shiny-specific information (use within the app, reactive state, more details about the <code>@param</code>s, etc.) in <code>@section</code> blocks.</p></li>
</ul>
<p>See the <a href="./document.html">documentation</a> chapter for more information</p>
</div>
</div>
</div>
</div>
<p><span style="font-weight: bold; font-size: 1.20em">When in doubt…load, document, and install</span></p>
<p>During development, you might lose track of the last <code>devtools</code> function you called (I know I do). If this happens, I’ve found loading, documenting, and installing helps to re-orient me to the current state of the package.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[ 30, 50, 20 ]">
<div class="quarto-layout-row">
<div id="first-column" class="quarto-layout-cell" style="flex-basis: 30.0%;justify-content: flex-start;">

</div>
<div id="second-column" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div style="font-weight: bold; font-size: 1.15em" data-layout-valign="bottom">
<p><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>L</kbd></p>
</div>
</div>
<div id="third-column" class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">

</div>
</div>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ℹ Loading sap</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[ 30, 50, 20 ]">
<div class="quarto-layout-row">
<div id="first-column" class="quarto-layout-cell" style="flex-basis: 30.0%;justify-content: flex-start;">

</div>
<div id="second-column" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div style="font-weight: bold; font-size: 1.15em" data-layout-valign="bottom">
<p><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd></p>
</div>
</div>
<div id="third-column" class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">

</div>
</div>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>==&gt; devtools::document(roclets = c('rd', 'collate', 'namespace'))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>ℹ Updating sap documentation</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>ℹ Loading sap</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>Documentation completed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[ 30, 50, 20 ]">
<div class="quarto-layout-row">
<div id="first-column" class="quarto-layout-cell" style="flex-basis: 30.0%;justify-content: flex-start;">

</div>
<div id="second-column" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div style="font-weight: bold; font-size: 1.15em" data-layout-valign="bottom">
<p><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>B</kbd></p>
</div>
</div>
<div id="third-column" class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">

</div>
</div>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>==&gt; R CMD INSTALL --preclean --no-multiarch --with-keep.source sap</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>* installing to library ‘/path/to/local/install/sap-090c61fc/R-4.2/x86_64-apple-darwin17.0’</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>* installing *source* package ‘sap’ ...</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>** using staged installation</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>** R</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>** byte-compile and prepare package for lazy loading</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>** help</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>*** installing help indices</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>** building package indices</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>** testing if installed package can be loaded from temporary location</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>** testing if installed package can be loaded from final location</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>** testing if installed package keeps a record of temporary installation path</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>* DONE (sap)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>Restarting R session...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It’s also satisfying to see all three functions execute without any errors!</p>
<section id="identifying-dependencies" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="identifying-dependencies">Identifying dependencies</h2>
<p>The first step in managing dependencies is identifying which add-on packages <code>sap</code> relies on.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The diagram below outlines the basic process for importing functions from add-on packages to use in our locally developed package, and then exporting those functions for people to use when they install/load our package.</p>

<style>

.codeStyle span:not(.nodeLabel) {
  font-family: monospace;
  font-size: 1.75rem;
  font-weight: bold;
  color: #9753b8 !important;
  background-color: #faf9ed;
  padding: 0.2em;
}

</style>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">%%{init: {'theme': 'neutral', 'themeVariables': { 'fontFamily': 'monospace', "fontSize":"13px"}}}%%
flowchart TD
    subgraph RPkg["R Package:&lt;code&gt;pkg&lt;/code&gt;"]
        fun("Has &lt;code&gt;fun()&lt;/code&gt; function")
    end
    subgraph SapPkg["&lt;code&gt;sap&lt;/code&gt; Package"]
    sap("Uses &lt;code&gt;pkg::fun()&lt;/code&gt; in local&lt;br&gt;&lt;code&gt;foo()&lt;/code&gt; function")
    end
    Users("Users install/load &lt;code&gt;sap&lt;/code&gt; to use &lt;code&gt;foo()&lt;/code&gt;")
    RPkg --&gt;|"import &lt;code&gt;fun()&lt;/code&gt; from &lt;code&gt;pkg&lt;/code&gt;"| SapPkg
    SapPkg --&gt;|"export &lt;code&gt;foo()&lt;/code&gt; from &lt;code&gt;sap&lt;/code&gt;"| Users

</pre>
</div>
<p></p><figcaption> Handling package dependencies</figcaption> </figure><p></p>
</div>
</div>
</div>
<p>Our goal is to limit the dependencies to only those critical to the functioning of our app, because each additional dependency is a potential point of failure (should this package become unavailable or significantly change).</p>
<p>A great place to start is our <code>app.R</code> file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pkgs &lt;- c("shiny", "shinythemes", "stringr", "ggplot2", "rlang")</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(pkgs, quiet = TRUE)</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># packages ------------------------------------</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinythemes)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rlang)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># launch_app ------------------------------------</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="fu">launch_app</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ideally, we’ll want to replace these calls to <code>libary()</code>, but first we have to make sure the functions we’re using in these packages will be available in <code>sap</code>.</p>
<p>When we run the contents of <code>app.R</code>, we see the following:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>&gt; launch_app()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>Error in launch_app() : could not find function "launch_app"</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Why can’t R find the <code>"launch_app"</code> function in <code>app.R</code>?</p>
<p>Let’s recap what we’ve done so far:</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<section id="app.r" class="level3 unnumbered quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="unnumbered anchored" data-anchor-id="app.r"><span style="font-size: 1.05em"><code>app.R</code></span></h3>
<ol type="1">
<li>The <code>app.R</code> file loads the necessary packages and calls <code>launch_app()</code>:</li>
</ol>
</section>
<section id="section" class="level3 unnumbered quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="unnumbered anchored" data-anchor-id="section"></h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sap/</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    └── app.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<section id="r" class="level3 unnumbered quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="unnumbered anchored" data-anchor-id="r"><span style="font-size: 1.05em"><code>R/</code></span></h3>
<ol start="2" type="1">
<li>The <code>R/launch_app.R</code> file contains the code and <code>roxygen2</code> documentation for <code>launch_app()</code> function:</li>
</ol>
</section>
<section id="section-1" class="level3 unnumbered quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="unnumbered anchored" data-anchor-id="section-1"></h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sap/</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    └── R/</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        └── launch_app.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<section id="man" class="level3 unnumbered quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="unnumbered anchored" data-anchor-id="man"><span style="font-size: 1.05em"><code>man/</code></span></h3>
<ol start="3" type="1">
<li><code>roxygen2</code> generates the <code>man/launch_app.Rd</code> documentation file:</li>
</ol>
</section>
<section id="section-2" class="level3 unnumbered quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="unnumbered anchored" data-anchor-id="section-2"></h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sap/</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    └── man/</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>          └── launch_app.Rd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</div>
</div>
<p>The error above is telling us that despite having documentation for <code>launch_app()</code> in the <code>R/</code> folder <em>and</em> generating the corresponding <code>.Rd</code> file in <code>man/</code>, <code>launch_app()</code> isn’t being <strong>exported</strong> from <code>sap</code>.</p>
</section>
<section id="sec-depends-exports" class="level2 page-columns page-full" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="sec-depends-exports"><span class="header-section-number">6.1</span> Package exports</h2>
<p>The exact cause of the error above becomes more apparent when we try to explicitly namespace <code>launch_app()</code> from <code>sap</code>:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sap<span class="sc">::</span><span class="fu">launch_app</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb14"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>Error: 'launch_app' is not an exported object from 'namespace:sap'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="no-row-height column-margin column-container"><div class="">
<p>Launch app with the <a href="https://mjfrigaard.github.io/shinypak/articles/getting-started.html"><code>shinypak</code> package</a>:</p>
<div style="font-size: 0.65rem;">
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">launch</span>(<span class="st">'06.1_pkg-exports'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div><p>To make the <code>launch_app()</code> function available to users of our package, we need to export it by including the <code>@export</code> tag in the <code>roxygen2</code> comment block:</p>
<ul>
<li><p><strong><code>@export</code></strong>: make function available to users of sap.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-45"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-45" data-target-annotation="1">1</button><span id="annotated-cell-45-1" class="code-annotation-target"><a href="#annotated-cell-45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export my_func</span></span>
<span id="annotated-cell-45-2"><a href="#annotated-cell-45-2" aria-hidden="true" tabindex="-1"></a><span class="co">#' my_func &lt;- function() {</span></span>
<span id="annotated-cell-45-3"><a href="#annotated-cell-45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="annotated-cell-45-4"><a href="#annotated-cell-45-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' }</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-45" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-45" data-code-lines="1" data-code-annotation="1">Placed above the function we want to export (function name is not required)</span>
</dd>
</dl>
</div>
</div></li>
</ul>
<section id="export-launch_app" class="level3 unnumbered page-columns page-full">
<h3 class="unnumbered anchored" data-anchor-id="export-launch_app">Export <span style="font-size: 1.00em;"><code>launch_app()</code></span></h3>
<p>We’ll export <code>launch_app()</code> from <code>sap</code> by placing the <code>@export</code> tag above the function in <code>R/launch_app.R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Launch the Movies Review Application</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' Starts the Movies Review Shiny application, which provides a customizable</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' scatter plot interface for analyzing movie data.</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return A **Shiny application** object.</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @section Details:</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' The application uses:</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' - **UI**: Defined in [`movies_ui()`].</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' - **Server Logic**: Defined in [`movies_server()`].</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' @seealso</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`movies_ui()`] for the user interface.</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`movies_server()`] for the server logic.</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="co">#' @family **Standalone Application**</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="co">#' if (interactive()) {</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="co">#'   launch_app()</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="co">#' }</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>launch_app <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">shinyApp</span>(<span class="at">ui =</span> movies_ui, <span class="at">server =</span> movies_server)</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In <code>app.R</code>, we’ll replace the calls to <code>library()</code> with a single call to <code>library(sap)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># packages ------------------------------------</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sap)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># launch_app ------------------------------------</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">launch_app</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We’ll document the package to generate the <code>NAMESPACE</code> changes:</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[ 30, 50, 20 ]">
<div class="quarto-layout-row">
<div id="first-column" class="quarto-layout-cell" style="flex-basis: 30.0%;justify-content: flex-start;">

</div>
<div id="second-column" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div style="font-weight: bold; font-size: 1.15em" data-layout-valign="bottom">
<p><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd></p>
</div>
</div>
<div id="third-column" class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">

</div>
</div>
</div>
<p>Now, when we run the code <code>app.R</code>, we see the following:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/dep_exported_app_fun.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="launch_app()"><img src="images/dep_exported_app_fun.png" class="img-fluid figure-img" style="width:100.0%" alt="launch_app()"></a></p>
<figcaption><code>launch_app()</code></figcaption>
</figure>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>We’ve lost the Shiny icon (<code>www/shiny.png</code>) in the UI, but we’ll address this in <strong><a href="resources.html" class="quarto-xref"><span>Chapter 9</span></a></strong>.</p>
</div></div><p><code>launch_app()</code> launches our application!</p>
<!-- first dimension defines rows and the second columns -->
<!-- "layout="[[1,1], [1]]" translates to: create two rows, the first of which has two columns of equal size and the second of which has a single column. -->
<p>The <code>NAMESPACE</code> file now contains a single export (<code>launch_app</code>), and when we enter <code>sap::</code> in the <strong>Console</strong>, we see the <code>launch_app()</code> function help file in the tab completion.</p>
<div id="fig-dep_exported_namespace" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dep_exported_namespace-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-dep_exported_namespace" style="flex-basis: 40.0%;justify-content: flex-start;">
<div id="fig-dep_exported_namespace" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-dep_exported_namespace-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/dep_exported_namespace.png" class="lightbox" data-gallery="fig-dep_exported_namespace" title="Figure&nbsp;6.1&nbsp;(a): updated NAMESPACE"><img src="images/dep_exported_namespace.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-dep_exported_namespace"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-dep_exported_namespace-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) updated <code>NAMESPACE</code>
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-dep_exported_namespace" style="flex-basis: 60.0%;justify-content: flex-start;">
<div id="fig-03_dependencies_namespace" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-03_dependencies_namespace-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/dep_exported_launch_app.png" class="lightbox" data-gallery="fig-dep_exported_namespace" title="Figure&nbsp;6.1&nbsp;(b): launch_app() from the sap namespace"><img src="images/dep_exported_launch_app.png" class="img-fluid figure-img" style="width:100.0%" data-ref-parent="fig-dep_exported_namespace"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-03_dependencies_namespace-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) <code>launch_app()</code> from the <code>sap</code> namespace
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dep_exported_namespace-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.1: The <code>launch_app()</code> is now part of the <code>sap</code> namespace
</figcaption>
</figure>
</div>
</section>
<section id="what-export-does" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-export-does">What <span style="font-size: 1.00em;"><code>@export</code></span> does</h3>
<p>We’ll pause here to notice a few things about what <code>@export</code> does. When we documented our package, the code was automatically loaded before the <code>NAMESPACE</code> was updated with <code>export(launch_app)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-11"><pre class="sourceCode bash code-annotation-code code-with-copy code-annotated"><code class="sourceCode bash"><span id="annotated-cell-11-1"><a href="#annotated-cell-11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> devtools::document<span class="kw">()</span></span>
<span id="annotated-cell-11-2"><a href="#annotated-cell-11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Updating sap documentation</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1">1</button><span id="annotated-cell-11-3" class="code-annotation-target"><a href="#annotated-cell-11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading sap</span>
<span id="annotated-cell-11-4"><a href="#annotated-cell-11-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> NAMESPACE</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="3" data-code-annotation="1">Call to <code>devtools::load_all()</code></span>
</dd>
</dl>
</div>
</div>
<p><code>document()</code> will call <code>load_all()</code> to make sure all the changes in the <code>R/</code> folder are included in the updated documentation.</p>

<style>

.codeStyle span:not(.nodeLabel) {
  font-family: monospace;
  font-size: 1.75rem;
  font-weight: bold;
  color: #9753b8 !important;
  background-color: #faf9ed;
  padding: 0.2em;
}

</style>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">%%{init: {'theme': 'neutral', 'themeVariables': { 'fontFamily': 'monospace', "fontSize":"13px"}}}%%
flowchart
    subgraph R["&lt;strong&gt;R/ folder&lt;/strong&gt;"]
        Tag("Add &lt;code&gt;@export&lt;/code&gt;&lt;br&gt;to function&lt;br&gt;documentation")
    end
  subgraph NS["&lt;strong&gt;NAMESPACE&lt;/strong&gt;"]
        Exported(["&lt;code&gt;export(launch_app)&lt;/code&gt;"])
  end
  subgraph Man["&lt;strong&gt;man/ folder&lt;/strong&gt;"]
        RdFile(["&lt;code&gt;.Rd&lt;/code&gt; files created"])
  end
  Document[["Run &lt;code&gt;document()&lt;/code&gt;"]]
  Load("Calls &lt;code&gt;load_all()&lt;/code&gt;")
  

  Tag --&gt; Document
  Document -.-&gt; Load --&gt; NS &amp; Man

</pre>
</div>
<p></p><figcaption> What <span class="citation" data-cites="export">@export</span> does</figcaption> </figure><p></p>
</div>
</div>
</div>
<p>We can confirm <code>launch_app()</code> has been exported with <code>ls()</code>, which returns “<em>the names of the objects in the specified environment</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">name =</span> <span class="st">"package:sap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>[1] "launch_app"</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="the-search-list" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the-search-list">The <span style="font-size: 1.00em;"><code>search()</code></span> list</h4>
<p><code>library(sap)</code> attaches <code>sap</code> to the search list. We can view all the attached packages in the string returned from <code>search()</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>"package:sap" %in% search()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>[1] TRUE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What about the add-on/third-party package functions <code>launch_app()</code> relies on, like <code>ggplot2</code>? Let’s check to see if <code>ggplot2</code> is also attached to the <code>search()</code> list:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"package:ggplot2"</span>) <span class="sc">%in%</span> <span class="fu">search</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>[1] FALSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Why does this matter? Because if these packages aren’t attached to the <code>search()</code> list, we can’t call their functions directly (the way we would if we’d loaded the package with <code>library()</code>). For example, if we try to use <code>ggplot2</code> to build a plot (similar to the one we have in the app), we see the following:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y =</span> mpg)) <span class="sc">+</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Error in ggplot(data = mtcars, aes(x = disp, y = mpg)) : </span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  could not find function "ggplot"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can use the add-on/third-party package functions <code>sap</code> relies on, but we need to explicitly namespace these functions from their original package namespaces (i.e., using <code>pkg::fun()</code>):</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[40,60]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: flex-start;">
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> disp, <span class="at">y =</span> mpg)) <span class="sc">+</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: center;">
<p><a href="images/dep_using_addon_funs.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="images/dep_using_addon_funs.png" class="img-fluid"></a></p>
</div>
</div>
</div>
<p>We can use <code>ggplot2</code> if we explicitly namespace it’s functions</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.10em;">Accessing add-on package functions</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #282b2d;">
<p><strong><em>What happens to add-on/third party functions that are exported from <code>sap</code>?</em></strong></p>
<p>When a user loads <code>sap</code> with <code>library(sap)</code>, any add-on/third-party package functions used in exports are available to users if they use <code>pkg::fun()</code> (or if they load the package themselves with <code>library()</code>).</p>
</div>
</div>
</div>
</div>
<p>Access to add-on/third-party package functions has implications for the other functions in <code>sap</code>–for example, the <code>scatter_plot()</code> function uses <code>ggplot2</code> functions. But we’re not exporting <code>scatter_plot()</code>, so when we attempt to run the examples, we see the following error:</p>
<div id="fig-dep_non_exported_examples" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dep_non_exported_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="fig-dep_non_exported_examples" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-dep_non_exported_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/dep_non_exported_examples.png" class="lightbox" data-gallery="fig-dep_non_exported_examples" title="Figure&nbsp;6.2&nbsp;(a): Error in scatter_plot() examples"><img src="images/dep_non_exported_examples.png" class="img-fluid figure-img" data-ref-parent="fig-dep_non_exported_examples"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-dep_non_exported_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Error in <code>scatter_plot()</code> examples
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dep_non_exported_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.2: Examples in <code>scatter_plot()</code> function without exporting
</figcaption>
</figure>
</div>
<p><span style="font-weight: bold; font-size: 1.15em;">Examples for ‘sap::scatter_plot’</span></p>
<p>The message at the top of the <strong>Help</strong> pane is informative because it tells us that despite <code>scatter_plot()</code> being functional when we run <code>launch_app()</code>, it’s not part of the package namespace (and thus, not accessible to users in the help file).</p>
</section>
</section>
<section id="export-scatter_plot" class="level3 unnumbered page-columns page-full">
<h3 class="unnumbered anchored" data-anchor-id="export-scatter_plot">Export <span style="font-size: 1.0em;"><code>scatter_plot()</code></span></h3>
<p>Let’s add the <code>@export</code> tag to <code>R/scatter_plot.R</code> so it’s exported from <code>sap</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create scatter plot </span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' Custom [`ggplot2`](https://ggplot2.tidyverse.org/) function for building </span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' scatter plots in `sap`.</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param df `data.frame` or `tibble`</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param x_var string variable mapped to `x` axis</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param y_var string variable mapped to `y` axis</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' Generate a Scatter Plot</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' Creates a scatter plot using `ggplot2` with the specified data and </span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' aesthetics.</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param df *(data.frame)* The dataset containing the variables to plot.</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param x_var *(character)* Name of the variable for the x-axis.</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param y_var *(character)* Name of the variable for the y-axis.</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param col_var *(character)* Name of the variable for the color aesthetic.</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param alpha_var *(numeric)* Transparency level of points (0 to 1).</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param size_var *(numeric)* Size of points.</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return A `ggplot` object representing the scatter plot.</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="co">#' @section Details:</span></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="co">#' `scatter_plot()` is designed for use in Shiny applications but can also be </span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="co">#'  used independently.</span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a><span class="co">#' It supports customization of transparency, size, and color aesthetics.</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a><span class="co">#' @seealso</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`mod_scatter_display_server()`] for integrating this function into the</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a><span class="co">#'   scatter plot module.</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`ggplot2::ggplot()`](https://ggplot2.tidyverse.org/) for details on </span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a><span class="co">#'   `ggplot2` usage.</span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="co">#' @family **Utility Functions**</span></span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a><span class="co">#' scatter_plot(</span></span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a><span class="co">#'   df = mtcars,</span></span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a><span class="co">#'   x_var = "mpg",</span></span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a><span class="co">#'   y_var = "hp",</span></span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a><span class="co">#'   col_var = "cyl",</span></span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a><span class="co">#'   alpha_var = 0.7,</span></span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a><span class="co">#'   size_var = 3</span></span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a><span class="co">#' )</span></span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>After documenting <code>sap</code>, the <code>NAMESPACE</code> is updated with the <code>export()</code> <a href="https://r-pkgs.org/dependencies-mindset-background.html#sec-dependencies-NAMESPACE-file">directive</a>:</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[ 30, 50, 20 ]">
<div class="quarto-layout-row">
<div id="first-column" class="quarto-layout-cell" style="flex-basis: 30.0%;justify-content: flex-start;">

</div>
<div id="second-column" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div style="font-weight: bold; font-size: 1.15em" data-layout-valign="bottom">
<p><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd></p>
</div>
</div>
<div id="third-column" class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">

</div>
</div>
</div>
<p>The contents of the updated <code>NAMESPACE</code> file and typing <code>sap::</code> in the <strong>Console</strong> now displays the <code>scatter_plot()</code> help file in the tab completion:</p>
<div class="page-columns page-full">
<div id="fig-deps_scatter_plot_exported" class="quarto-layout-panel page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-deps_scatter_plot_exported-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<div class="quarto-layout-row column-body-outset-right">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-deps_scatter_plot_exported" style="flex-basis: 40.0%;justify-content: flex-start;">
<div id="fig-deps_scatter_plot_exported" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-deps_scatter_plot_exported-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/dep_scatter_plot_exported.png" class="lightbox" data-gallery="fig-deps_scatter_plot_exported" title="Figure&nbsp;6.3&nbsp;(a): @export the scatter_plot function"><img src="images/dep_scatter_plot_exported.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" data-ref-parent="fig-deps_scatter_plot_exported"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-deps_scatter_plot_exported-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) <code>@export</code> the <code>scatter_plot</code> function
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-deps_scatter_plot_exported" style="flex-basis: 60.0%;justify-content: flex-start;">
<div id="fig-deps_scatter_plot_exported" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-deps_scatter_plot_exported-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/dep_scatter_plot_namespace.png" class="lightbox" data-gallery="fig-deps_scatter_plot_exported" title="Figure&nbsp;6.3&nbsp;(b): scatter_plot()"><img src="images/dep_scatter_plot_namespace.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" data-ref-parent="fig-deps_scatter_plot_exported"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-deps_scatter_plot_exported-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) <code>scatter_plot()</code>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-deps_scatter_plot_exported-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.3: <code>scatter_plot()</code> is now part of the <code>sap</code> namespace
</figcaption>
</figure>
</div>
</div>
<p>Below, we confirm users can access the help file for <code>scatter_plot()</code> and run the examples:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/dep_run_examples_scatter_plot.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Running examples in ?scatter_plot"><img src="images/dep_run_examples_scatter_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" alt="Running examples in ?scatter_plot"></a></p>
</figure>
</div>
<figcaption>Running examples in <code>?scatter_plot</code></figcaption>
</figure>
</div>
<section id="loadednamespaces" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="loadednamespaces"><span style="font-size: 0.95em;"><code>loadedNamespaces()</code></span></h4>
<p>We’ve already confirmed that <code>ggplot2</code> isn’t attached with <code>sap</code> (and hence, it is not included in the <code>search()</code> list)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"package:ggplot2"</span>) <span class="sc">%in%</span> <span class="fu">search</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb28"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>[1]  FALSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>However, we can access the functions we used the <code>pkg::fun()</code> syntax with because those functions are included in the loaded namespaces (which we can view with <code>loadedNamespaces()</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"ggplot2"</span>) <span class="sc">%in%</span> <span class="fu">loadedNamespaces</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb30"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>[1] TRUE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.10em;">Accessing non-exported functions</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #282b2d;">
<p><strong><em>What about functions that <em>aren’t</em> exported from <code>sap</code>?</em></strong></p>
<p>Functions that are not exported (i.e., do not include the <code>@export</code> tag) are still accessible after installing and loading a package using the <code>pkg:::fun()</code></p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="what-to-export" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-to-export">What to <span style="font-size: 1.00em"><code>@export</code></span></h3>
<blockquote class="blockquote">
<p><em>‘Always err on the side of caution, and simplicity. It’s easier to give people more functionality than it is to take away stuff they’re used to’</em> - <a href="https://r-pkgs.org/dependencies-in-practice.html#what-to-export">What to export, R Packages, 2ed</a></p>
</blockquote>
<p>When determining which functions to export, consider the question: “<em>When a user installs and loads <code>sap</code>, what functions do I want to be available?</em>”</p>
<p>In app-packages, I’ll take the following general approach:</p>
<ul>
<li><p>Start by exporting the standalone app function (<code>launch_app()</code>)</p></li>
<li><p>Then selectively export modules and/or functions that perform distinct tasks with potentially reusable functionality (i.e., generate specific UI components, perform data processing tasks, etc.).</p></li>
</ul>
<p>It’s rare that I don’t export functions from app-packages, but I like to make sure users have the ability to get ‘under to hood’ and see how each part of an application works.</p>
<p>If you’d like to the <strong>Low-key <code>@export</code>s with <code>@keywords internal</code></strong> box below for exporting functions without including them in your package index.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.10em;">Low-key exports with <strong><span class="citation" data-cites="keywords">@keywords</span> internal</strong></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #282b2d;">
<p>If you’d like a function to be exported, but not listed in your app-package index, you can use <code>@export</code> in combination with <code>@keywords internal</code>:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @keywords internal</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For example, adding <code>@export</code> and <code>@keywords internal</code> to <code>R/scatter_plot.R</code> will make the function accessible to users and generate a help file:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/depends_keywords_internal_namespace.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="images/depends_keywords_internal_namespace.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a></p>
</figure>
</div>
<p>But if a user were to click on the <strong>Index</strong> for <code>sap</code> (at the bottom of the help file) <code>scatter_plot</code> would not be listed:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/depends_pkg_index.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="images/depends_pkg_index.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="sec-depends-imports" class="level2 page-columns page-full" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="sec-depends-imports"><span class="header-section-number">6.2</span> Package imports</h2>

<div class="no-row-height column-margin column-container"><div class="">
<p>Launch app with the <a href="https://mjfrigaard.github.io/shinypak/articles/getting-started.html"><code>shinypak</code> package</a>:</p>
<div style="font-size: 0.65rem;">
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">launch</span>(<span class="st">'06.2_imports'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div><p>Importing dependencies is slightly more involved than exports because imports are managed by both the <code>DESCRIPTION</code> <em>and</em> the <code>NAMESPACE</code>:</p>
<ol type="1">
<li><p>The <code>DESCRIPTION</code> file handles <strong>package-level dependencies</strong>, specifying which add-on packages our app-package uses.</p></li>
<li><p>The <code>NAMESPACE</code> manages <strong>function-level access</strong>, importing functions from add-on packages to be used in our app-package, and–as we’ve seen above–exporting functions from our app-package for others to use.</p></li>
</ol>
<section id="package-level-depencencies" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="package-level-depencencies">Package-level depencencies</h3>
<p>The <code>DESCRIPTION</code> file manages dependencies with three fields: <code>Depends</code>, <code>Imports</code>, and <code>Suggests</code>. <strong>Most add-on packages belong under the <code>Imports</code> field (i.e., functions from these packages are used in the code below <code>R/</code>)</strong>.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<section id="sec-pkg-depends-description" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-pkg-depends-description"><span style="font-size: 1.00em"><code>Depends</code></span></h4>
<p>Packages listed under <code>Depends</code> are essential for our app-package to work. These packages will be attached <em>before</em> our package when <code>library(sap)</code> is called.</p>
</section>
<section id="sec-pkg-imports-description" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-pkg-imports-description"><span style="font-size: 1.00em"><code>Imports</code></span></h4>
<p>Packages listed under <code>Imports</code> are necessary for our app-package to work. These packages are loaded (but not attached) when our app-package is installed.</p>
</section>
<section id="sec-pkg-suggests-description" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-pkg-suggests-description"><span style="font-size: 1.00em"><code>Suggests</code></span></h4>
<p>The <code>Suggests</code> field should include any packages that enhance our app-package, but aren’t necessary for the basic functionality. This might include packages used in examples, vignettes, tests, etc.</p>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.10em;">Avoiding dependency hell</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #282b2d;">
<p>Generally speaking, you want to keep your app-package lightweight (i.e., limit the number of add-on/third-party dependencies, other than <code>base</code>-R packages and <code>shiny</code>). Doing this ensures you’ll be able to safely use this app-packages as a dependencies in the next app-packages. We’ll cover tracking and exploring dependencies in <a href="entanglement.html" class="quarto-xref"><span>Chapter 31</span></a>.</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="function-level-access" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="function-level-access">Function-level access</h3>
<p>Function-level access is managed using namespace-qualified references (or ‘explicit namespacing’) in the code below <code>R/</code>. The <code>NAMESPACE</code> can also be used to include add-on packages or functions with the <code>@import</code> and <code>@importFrom</code> tags.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<ol type="1">
<li><p><strong>Namespace-qualified referencing</strong>: Refer to add-on package functions using <code>pkg::fun()</code> syntax in the code below <code>R/</code>.</p></li>
<li><p><strong>Special imports</strong>: <code>@importFrom</code> should be used when 1) <em>“You can’t call an operator from another package via <code>::</code>”</em> 2) <em>“importing a function makes your code much more readable”</em> (<strong>not</strong> easier to write)</p></li>
<li><p><strong>Importing everything</strong>: <code>@import</code> should be used if <em>“you make such heavy use of so many functions from another package that you want to import its entire namespace”</em></p></li>
</ol>
</section>
<section id="sec-depends-pkg-fun-syntax" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-depends-pkg-fun-syntax">Handling imports</h3>
<p>The workflow I use to manage add-on dependencies comes from the advice in the <code>roxygen2</code> documentation:</p>
<blockquote class="blockquote">
<p><em>“if you are using just a few functions from another package, we recommending adding the package to the <code>Imports:</code> field of the <code>DESCRIPTION</code> file and calling the functions explicitly using <code>::</code>, e.g., <code>pkg::fun()</code>…</em>”</p>
<p><em>…“If the repetition of the package name becomes annoying you can <code>@importFrom</code> and drop the <code>pkg::fun()</code>”</em>. - <a href="https://roxygen2.r-lib.org/articles/namespace.html#functions"><strong>Importing functions</strong></a></p>
</blockquote>
<ol type="1">
<li><p>Include the add-on package to the <code>Imports</code> field with <code>usethis::use_package()</code>.</p></li>
<li><p>Refer to add-on functions using explicit namespacing (i.e., <code>pkg::fun()</code>) in the code beneath <code>R/</code>.</p></li>
</ol>
<p>We have some special considerations for the imported add-on functions in our app-package:</p>
<section id="sec-depends-import" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-depends-import">Using <span style="font-size: 1.0em; font-weight: bold;"><code>@import</code></span></h4>
<p>A substantial portion of the code in <code>sap</code> comes from <code>shiny</code>, so we’ll remove the explicit namespacing and place the <code>@import</code> tag in <code>R/launch_app.R</code><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide R/launch_app.R</summary>
<div class="sourceCode cell-code" id="annotated-cell-24"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-24-1"><a href="#annotated-cell-24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Launch the Movies Review Application</span></span>
<span id="annotated-cell-24-2"><a href="#annotated-cell-24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-24-3"><a href="#annotated-cell-24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' Starts the Movies Review Shiny application, which provides a customizable</span></span>
<span id="annotated-cell-24-4"><a href="#annotated-cell-24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' scatter plot interface for analyzing movie data.</span></span>
<span id="annotated-cell-24-5"><a href="#annotated-cell-24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-24-6"><a href="#annotated-cell-24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return A **Shiny application** object.</span></span>
<span id="annotated-cell-24-7"><a href="#annotated-cell-24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-24-8"><a href="#annotated-cell-24-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @section Details:</span></span>
<span id="annotated-cell-24-9"><a href="#annotated-cell-24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' The application uses:</span></span>
<span id="annotated-cell-24-10"><a href="#annotated-cell-24-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' - **UI**: Defined in [`movies_ui()`].</span></span>
<span id="annotated-cell-24-11"><a href="#annotated-cell-24-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' - **Server Logic**: Defined in [`movies_server()`].</span></span>
<span id="annotated-cell-24-12"><a href="#annotated-cell-24-12" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-24-13"><a href="#annotated-cell-24-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' @seealso</span></span>
<span id="annotated-cell-24-14"><a href="#annotated-cell-24-14" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`movies_ui()`] for the user interface.</span></span>
<span id="annotated-cell-24-15"><a href="#annotated-cell-24-15" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`movies_server()`] for the server logic.</span></span>
<span id="annotated-cell-24-16"><a href="#annotated-cell-24-16" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-24-17"><a href="#annotated-cell-24-17" aria-hidden="true" tabindex="-1"></a><span class="co">#' @family **Standalone Application**</span></span>
<span id="annotated-cell-24-18"><a href="#annotated-cell-24-18" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-24-19"><a href="#annotated-cell-24-19" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="annotated-cell-24-20"><a href="#annotated-cell-24-20" aria-hidden="true" tabindex="-1"></a><span class="co">#' if (interactive()) {</span></span>
<span id="annotated-cell-24-21"><a href="#annotated-cell-24-21" aria-hidden="true" tabindex="-1"></a><span class="co">#'   launch_app()</span></span>
<span id="annotated-cell-24-22"><a href="#annotated-cell-24-22" aria-hidden="true" tabindex="-1"></a><span class="co">#' }</span></span>
<span id="annotated-cell-24-23"><a href="#annotated-cell-24-23" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="1">1</button><span id="annotated-cell-24-24" class="code-annotation-target"><a href="#annotated-cell-24-24" aria-hidden="true" tabindex="-1"></a><span class="co">#' @import shiny</span></span>
<span id="annotated-cell-24-25"><a href="#annotated-cell-24-25" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="24" data-code-annotation="1">Import entire shiny package namespace</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="sec-depends-import-from" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-depends-import-from">Using <span style="font-size: 1.0em; font-weight: bold;"><code>@importFrom</code></span></h4>
<p><code>.data</code> can’t be exported using <code>::</code>, so we’ll include <code>@importFrom</code> in <code>R/scatter_plot.R</code>. On the other hand, <code>ggplot2</code> has over 400 functions, so we’ll add the package to the <code>Imports</code> field and use the namespace-qualified references.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide R/scatter_plot.R</summary>
<div class="sourceCode cell-code" id="annotated-cell-25"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-25-1"><a href="#annotated-cell-25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create scatter plot </span></span>
<span id="annotated-cell-25-2"><a href="#annotated-cell-25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-3"><a href="#annotated-cell-25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' Custom [`ggplot2`](https://ggplot2.tidyverse.org/) function for building </span></span>
<span id="annotated-cell-25-4"><a href="#annotated-cell-25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' scatter plots in `sap`.</span></span>
<span id="annotated-cell-25-5"><a href="#annotated-cell-25-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="annotated-cell-25-6"><a href="#annotated-cell-25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="annotated-cell-25-7"><a href="#annotated-cell-25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param df `data.frame` or `tibble`</span></span>
<span id="annotated-cell-25-8"><a href="#annotated-cell-25-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param x_var string variable mapped to `x` axis</span></span>
<span id="annotated-cell-25-9"><a href="#annotated-cell-25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param y_var string variable mapped to `y` axis</span></span>
<span id="annotated-cell-25-10"><a href="#annotated-cell-25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' Generate a Scatter Plot</span></span>
<span id="annotated-cell-25-11"><a href="#annotated-cell-25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-12"><a href="#annotated-cell-25-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' Creates a scatter plot using `ggplot2` with the specified data and </span></span>
<span id="annotated-cell-25-13"><a href="#annotated-cell-25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' aesthetics.</span></span>
<span id="annotated-cell-25-14"><a href="#annotated-cell-25-14" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-15"><a href="#annotated-cell-25-15" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param df *(data.frame)* The dataset containing the variables to plot.</span></span>
<span id="annotated-cell-25-16"><a href="#annotated-cell-25-16" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param x_var *(character)* Name of the variable for the x-axis.</span></span>
<span id="annotated-cell-25-17"><a href="#annotated-cell-25-17" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param y_var *(character)* Name of the variable for the y-axis.</span></span>
<span id="annotated-cell-25-18"><a href="#annotated-cell-25-18" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param col_var *(character)* Name of the variable for the color aesthetic.</span></span>
<span id="annotated-cell-25-19"><a href="#annotated-cell-25-19" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param alpha_var *(numeric)* Transparency level of points (0 to 1).</span></span>
<span id="annotated-cell-25-20"><a href="#annotated-cell-25-20" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param size_var *(numeric)* Size of points.</span></span>
<span id="annotated-cell-25-21"><a href="#annotated-cell-25-21" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-22"><a href="#annotated-cell-25-22" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return A `ggplot` object representing the scatter plot.</span></span>
<span id="annotated-cell-25-23"><a href="#annotated-cell-25-23" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-24"><a href="#annotated-cell-25-24" aria-hidden="true" tabindex="-1"></a><span class="co">#' @section Details:</span></span>
<span id="annotated-cell-25-25"><a href="#annotated-cell-25-25" aria-hidden="true" tabindex="-1"></a><span class="co">#' `scatter_plot()` is designed for use in Shiny applications but can also be </span></span>
<span id="annotated-cell-25-26"><a href="#annotated-cell-25-26" aria-hidden="true" tabindex="-1"></a><span class="co">#'  used independently.</span></span>
<span id="annotated-cell-25-27"><a href="#annotated-cell-25-27" aria-hidden="true" tabindex="-1"></a><span class="co">#' It supports customization of transparency, size, and color aesthetics.</span></span>
<span id="annotated-cell-25-28"><a href="#annotated-cell-25-28" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-29"><a href="#annotated-cell-25-29" aria-hidden="true" tabindex="-1"></a><span class="co">#' @seealso</span></span>
<span id="annotated-cell-25-30"><a href="#annotated-cell-25-30" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`mod_scatter_display_server()`] for integrating this function into the</span></span>
<span id="annotated-cell-25-31"><a href="#annotated-cell-25-31" aria-hidden="true" tabindex="-1"></a><span class="co">#'   scatter plot module.</span></span>
<span id="annotated-cell-25-32"><a href="#annotated-cell-25-32" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`ggplot2::ggplot()`](https://ggplot2.tidyverse.org/) for details on </span></span>
<span id="annotated-cell-25-33"><a href="#annotated-cell-25-33" aria-hidden="true" tabindex="-1"></a><span class="co">#'   `ggplot2` usage.</span></span>
<span id="annotated-cell-25-34"><a href="#annotated-cell-25-34" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-35"><a href="#annotated-cell-25-35" aria-hidden="true" tabindex="-1"></a><span class="co">#' @family **Utility Functions**</span></span>
<span id="annotated-cell-25-36"><a href="#annotated-cell-25-36" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-37"><a href="#annotated-cell-25-37" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="annotated-cell-25-38"><a href="#annotated-cell-25-38" aria-hidden="true" tabindex="-1"></a><span class="co">#' scatter_plot(</span></span>
<span id="annotated-cell-25-39"><a href="#annotated-cell-25-39" aria-hidden="true" tabindex="-1"></a><span class="co">#'   df = mtcars,</span></span>
<span id="annotated-cell-25-40"><a href="#annotated-cell-25-40" aria-hidden="true" tabindex="-1"></a><span class="co">#'   x_var = "mpg",</span></span>
<span id="annotated-cell-25-41"><a href="#annotated-cell-25-41" aria-hidden="true" tabindex="-1"></a><span class="co">#'   y_var = "hp",</span></span>
<span id="annotated-cell-25-42"><a href="#annotated-cell-25-42" aria-hidden="true" tabindex="-1"></a><span class="co">#'   col_var = "cyl",</span></span>
<span id="annotated-cell-25-43"><a href="#annotated-cell-25-43" aria-hidden="true" tabindex="-1"></a><span class="co">#'   alpha_var = 0.7,</span></span>
<span id="annotated-cell-25-44"><a href="#annotated-cell-25-44" aria-hidden="true" tabindex="-1"></a><span class="co">#'   size_var = 3</span></span>
<span id="annotated-cell-25-45"><a href="#annotated-cell-25-45" aria-hidden="true" tabindex="-1"></a><span class="co">#' )</span></span>
<span id="annotated-cell-25-46"><a href="#annotated-cell-25-46" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="annotated-cell-25-47"><a href="#annotated-cell-25-47" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="annotated-cell-25-48"><a href="#annotated-cell-25-48" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="1">1</button><span id="annotated-cell-25-49" class="code-annotation-target"><a href="#annotated-cell-25-49" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom rlang .data</span></span>
<span id="annotated-cell-25-50"><a href="#annotated-cell-25-50" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-25" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="49" data-code-annotation="1">Import a the <code>.data</code> operator from <code>rlang</code></span>
</dd>
</dl>
</div>
</div>
</section>
<section id="use_packagepkg" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="use_packagepkg"><span style="font-size: 1.0em; font-weight: bold;"><code>use_package('pkg')</code></span></h4>
<p>As an example, we’ll add the <a href="https://rstudio.github.io/bslib/index.html"><code>bslib</code> package</a> and update our app UI layout:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_package</span>(<span class="st">'bslib'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb34"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/Users/mjfrigaard/projects/apps/sap'</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'bslib'</span> to Imports field in DESCRIPTION</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Refer to functions with <span class="kw">`</span><span class="fu">bslib::fun()</span><span class="kw">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In <code>movies_ui()</code>, we’ll change the <code>fluidPage()</code> to the <code>bslib::page_fillable()</code> and adjust move the data source information to the <code>bslib::card_footer()</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>updated movies_ui() bslib function</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' User Interface for the Movies Review Application</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' Creates the user interface (UI) for the Movies Review application, which </span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' allows users to create customizable scatter plots based on movie data.</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return A Shiny `tagList` object containing the UI elements.</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @section Details:</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' The interface is built using [`bslib`](https://rstudio.github.io/bslib/)</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' - **Page (fillable)**: [`bslib::page_fillable()`](https://rstudio.github.io/bslib/reference/page_fillable.html) </span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">#'   displays the app title. </span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' - **Sidebar**: [`bslib::layout_sidebar()`](https://rstudio.github.io/bslib/reference/sidebar.html) </span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">#'   includes a logo and the variable </span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co">#'   selection module.</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">#'   ([`mod_var_input_ui`]).</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co">#' - **Card**: [`bslib::card()`](https://rstudio.github.io/bslib/reference/card.html) </span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="co">#'   displays the scatter plot module </span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a><span class="co">#'   ([`mod_scatter_display_ui`]).</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co">#' @seealso</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`movies_server()`] for the server logic of the app.</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="co">#' - [`mod_var_input_ui()`] and [`mod_scatter_display_ui()`] for the modules </span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="co">#'   included in the UI.</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="co">#' @family **Application Components**</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a><span class="co">#' if (interactive()) {</span></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="co">#'   shiny::shinyApp(ui = movies_ui(), server = movies_server)</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a><span class="co">#' }</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>movies_ui <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tagList</span>(</span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>    bslib<span class="sc">::</span><span class="fu">page_fillable</span>(</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h1</span>(<span class="st">"Movie Reviews"</span>),</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>      bslib<span class="sc">::</span><span class="fu">layout_sidebar</span>(</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">sidebar =</span></span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>          bslib<span class="sc">::</span><span class="fu">sidebar</span>(</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>            <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">h4</span>(<span class="st">"Sidebar inputs"</span>),</span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a>            <span class="fu">img</span>(</span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> <span class="st">"shiny.png"</span>,</span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>              <span class="at">height =</span> <span class="dv">60</span>,</span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>              <span class="at">width =</span> <span class="dv">55</span>,</span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>              <span class="at">style =</span> <span class="st">"margin:10px 10px"</span></span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mod_var_input_ui</span>(<span class="st">"vars"</span>)</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a>        bslib<span class="sc">::</span><span class="fu">card</span>(</span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a>          <span class="at">full_screen =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a>          bslib<span class="sc">::</span><span class="fu">card_header</span>(</span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a>            tags<span class="sc">$</span><span class="fu">h4</span>(<span class="st">"Scatter Plot"</span>)</span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mod_scatter_display_ui</span>(<span class="st">"plot"</span>),</span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a>          bslib<span class="sc">::</span><span class="fu">card_footer</span>(</span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a>            tags<span class="sc">$</span><span class="fu">blockquote</span>(</span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a>              tags<span class="sc">$</span><span class="fu">em</span>(</span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a>                tags<span class="sc">$</span><span class="fu">p</span>(</span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"The data for this application comes from the "</span>,</span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a>                  tags<span class="sc">$</span><span class="fu">a</span>(<span class="st">"Building web applications with Shiny"</span>,</span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a>                    <span class="at">href =</span> <span class="st">"https://rstudio-education.github.io/shiny-course/"</span></span>
<span id="cb35-61"><a href="#cb35-61" aria-hidden="true" tabindex="-1"></a>                  ),</span>
<span id="cb35-62"><a href="#cb35-62" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"tutorial"</span></span>
<span id="cb35-63"><a href="#cb35-63" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb35-64"><a href="#cb35-64" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb35-65"><a href="#cb35-65" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb35-66"><a href="#cb35-66" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb35-67"><a href="#cb35-67" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb35-68"><a href="#cb35-68" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb35-69"><a href="#cb35-69" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb35-70"><a href="#cb35-70" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-71"><a href="#cb35-71" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>After adding the add-on packages to the <code>DESCRIPTION</code> with <code>usethis::use_package()</code>, then deciding if/where to use <code>@importFrom</code> and <code>@import</code>, we’ll load, document, and install <code>sap</code>:</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[ 15, 33, 16 ]">
<div class="quarto-layout-row">
<div id="first-column" class="quarto-layout-cell" style="flex-basis: 23.4%;justify-content: flex-start;">

</div>
<div id="second-column" class="quarto-layout-cell" style="flex-basis: 51.6%;justify-content: flex-start;">
<div style="font-color: #000000; font-weight: bold; font-size: 1.15em" data-layout-valign="bottom">
<p><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>L</kbd><br>
<kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd><br>
<kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>B</kbd></p>
</div>
</div>
<div id="third-column" class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">

</div>
</div>
</div>
<p>When we review the updated <code>NAMESPACE</code> and <code>DESCRIPTION</code> files, we should see the following:</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-center">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>Updated <code>NAMESPACE</code> with <code>@import</code> and <code>@importFrom</code>:</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/depends_imports_namespace.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="NAMESPACE"><img src="images/depends_imports_namespace.png" class="img-fluid figure-img" alt="NAMESPACE"></a></p>
<figcaption>NAMESPACE</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-center">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>Updated <code>DESCRIPTION</code> with all <code>Imports</code>:</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/depends_imports_description.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="DESCRIPTION"><img src="images/depends_imports_description.png" class="img-fluid figure-img" alt="DESCRIPTION"></a></p>
<figcaption>DESCRIPTION</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p><code>roxygen2</code> will update the <code>NAMESPACE</code>, but <code>usethis::use_package()</code> is needed to update the <code>DESCRIPTION</code>.</p>
<!--

![Updated `NAMESPACE` with `@import` and `@importFrom`](images/dep_imports_namespace.png){#fig-deps_imports_namespace width='100%' align='center'}

![Updated `DESCRIPTION` with all  `Imports`](images/dep_imports_description.png){#fig-deps_imports_namespace width='100%' align='center'}

-->
<p>When we run <code>launch_app()</code>, we see the application launches and we can still run the <code>scatter_plot()</code> examples:</p>
<div id="fig-import_check_app_examples" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-import_check_app_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-import_check_app_examples" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-import_check_app_examples" class="quarto-float quarto-figure quarto-figure-center anchored" data-align="center">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-import_check_app_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/dep_imports_app_fun.png" class="lightbox" data-gallery="fig-import_check_app_examples" title="Figure&nbsp;6.4&nbsp;(a): launch_app() works"><img src="images/dep_imports_app_fun.png" class="img-fluid figure-img" style="width:100.0%" data-align="center" data-ref-parent="fig-import_check_app_examples"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-import_check_app_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) <code>launch_app()</code> works
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-import_check_app_examples" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-import_check_app_examples" class="quarto-float quarto-figure quarto-figure-center anchored" data-align="center">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-import_check_app_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/dep_run_examples_scatter_plot.png" class="lightbox" data-gallery="fig-import_check_app_examples" title="Figure&nbsp;6.4&nbsp;(b): Examples in ?scatter_plot"><img src="images/dep_run_examples_scatter_plot.png" class="img-fluid figure-img" style="width:100.0%" data-align="center" data-ref-parent="fig-import_check_app_examples"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-import_check_app_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Examples in <code>?scatter_plot</code>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-import_check_app_examples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.4: Confirming we still have full functionality in <code>sap</code>
</figcaption>
</figure>
</div>
</section>
</section>
<section id="what-import-does" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-import-does">What <span style="font-size: 1.00em; font-weight: bold;"><code>@import</code></span> does</h3>
<p>The figure below attempts to capture some of confusion between the dependencies listed in the <code>NAMESPACE</code> and the <code>Imports</code> field in the <code>DESCRIPTION</code> file.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></p>
<div id="fig-deps_roxygenize_desc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-deps_roxygenize_desc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<!-- ![`roxygen2` does not connect the `NAMESPACE` to the `DESCRIPTION`](images/dep_roxygenize_desc.png){#fig-deps_roxygenize_desc width='70%' align='center'} -->

<style>

.codeStyle span:not(.nodeLabel) {
  font-family: monospace;
  font-size: 1.75rem;
  font-weight: bold;
  color: #9753b8 !important;
  background-color: #faf9ed;
  padding: 0.2em;
}

</style>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">%%{init: {'theme': 'neutral', 'themeVariables': { 'fontFamily': 'monospace', "fontSize":"13px"}}}%%
flowchart TD
    subgraph DESCRIPTION["&lt;strong&gt;DESCRIPTION&lt;/strong&gt;"]
        UsePkg["&lt;code&gt;use_package('pkg')&lt;/code&gt;"]
        Imports("&lt;code&gt;Imports&lt;/code&gt;&lt;br&gt; in DESCRIPTION")
    end
    subgraph R["&lt;strong&gt;R/ Folder&lt;/strong&gt;"]
        Tag{{"Use &lt;code&gt;pkg::fun()&lt;/code&gt;&lt;br&gt;"}}
        Import("Use &lt;code&gt;@import&lt;/code&gt;")
        ImportFrom("Use &lt;code&gt;@importFrom&lt;/code&gt;")
    end
    subgraph NAMESPACE["&lt;strong&gt;NAMESPACE&lt;/strong&gt;"]
        NSImport("&lt;code&gt;import(pkg)&lt;/code&gt;")
        NSImportFrom("&lt;code&gt;importFrom(fun,pkg)&lt;/code&gt;")
    end
    Document(["&lt;code&gt;devtools::document()&lt;/code&gt;&lt;/strong&gt;"])

  UsePkg --&gt;|"Adds &lt;code&gt;pkg&lt;/code&gt; to"|Imports
  DESCRIPTION ==&gt;|"Use &lt;code&gt;fun()&lt;/code&gt; from &lt;code&gt;pkg&lt;/code&gt;"|Tag
  DESCRIPTION -.-&gt; |"Everything from &lt;code&gt;pkg&lt;/code&gt;"|Import 
  DESCRIPTION -.-&gt; |"Special cases from &lt;code&gt;pkg&lt;/code&gt;"|ImportFrom
  Tag ==&gt; Document
  Import -.-&gt; Document -.-&gt; |"Adds &lt;code&gt;pkg&lt;/code&gt; to"|NSImport
  ImportFrom -.-&gt; Document -.-&gt; |"Adds &lt;code&gt;fun, pkg&lt;/code&gt; to"|NSImportFrom

</pre>
</div>
<p></p><figcaption> <code>devtools::document</code> does not change the <code>DESCRIPTION</code> file</figcaption> </figure><p></p>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-deps_roxygenize_desc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.5: <code>devtools::document()</code> (or <strong><span style="font-size: 0.70em;"><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd></span></strong>) updates the <code>NAMESPACE</code> with any <code>@import</code>, <code>@importFrom</code> or <code>@export</code> tags. However, no changes are made to the <code>DESCRIPTION</code> file.
</figcaption>
</figure>
</div>
<p>Let’s confirm we’re still only exporting <code>launch_app()</code> and <code>scatter_plot()</code> from <code>sap</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">name =</span> <span class="st">"package:sap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb37"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>[1] "launch_app"   "scatter_plot"</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Great. Now we’ve listed six packages in the <code>Imports</code> field of the <code>DESCRIPTION</code> file:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>Imports: </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    bslib,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    ggplot2,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    rlang,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    shiny,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    stringr,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    tools</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="the-search-list-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the-search-list-1">The <span style="font-size: 1.0em; font-weight: bold;"><code>search()</code></span> list</h4>
<p>Are these packages on the search list?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"package:bslib"</span>, <span class="st">"package:ggplot2"</span>, </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">"package:rlang"</span>, <span class="st">"package:shiny"</span>, </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"package:stringr"</span>, <span class="st">"package:tools"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>pkgs <span class="sc">%in%</span> <span class="fu">search</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb40"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>[1] FALSE FALSE FALSE FALSE FALSE FALSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This demonstrates that none of these packages are attached with <code>sap</code>.</p>
</section>
<section id="loadednamespaces-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="loadednamespaces-1"><span style="font-size: 0.95em;"><code>loadedNamespaces()</code></span></h4>
<p>However, the <code>rlang</code> and <code>shiny</code> packages are included in the <code>loadedNamespaces()</code> (because we included them with <code>@import</code>/<code>@importFrom</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"bslib"</span>, <span class="st">"ggplot2"</span>, <span class="st">"rlang"</span>, </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">"shiny"</span>, <span class="st">"stringr"</span>, <span class="st">"tools"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>pkgs <span class="sc">%in%</span> <span class="fu">loadedNamespaces</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb42"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>[1] FALSE FALSE  TRUE  TRUE FALSE  TRUE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can still access the add-on package functions in <code>sap</code> using the <code>pkg::fun()</code> syntax:</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[35, 65]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 35.0%;justify-content: flex-start;">
<div class="sourceCode" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="at">data =</span> mtcars, </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">aes</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> disp, </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> mpg)) <span class="sc">+</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 65.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/dep_using_addon_funs.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15" title="ggplot2 functions are still available if we explicitly namespace"><img src="images/dep_using_addon_funs.png" class="img-fluid figure-img" style="width:100.0%" alt="ggplot2 functions are still available if we explicitly namespace"></a></p>
<figcaption><code>ggplot2</code> functions are still available if we explicitly namespace</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="imports-faq" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="imports-faq">Imports FAQ</h3>
<p>Below are handful of questions and answers I’ve encountered regarding package imports:</p>
<p><strong><em>Question 1: How can I include an add-on package to my <code>DESCRIPTION</code> file?</em></strong></p>
<p>Answer 1: <code>usethis::use_package()</code> automatically adds a package in the <code>Imports</code> section, and has options for specifying the minimum version.</p>
<p><strong><em>Question 2: Will users of my app-package have access to the packages listed in the <code>Imports</code> field of my <code>DESCRIPTION</code> file?</em></strong></p>
<p>Answer 3: <code>library(pkg)</code> loads the namespace of imported packages, but they are not attached to the <code>search()</code> path.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<p><strong><em>Question 4: How can I tell the difference between functions written by a package author and imported functions in the code below <code>R/</code>?</em></strong></p>
<p>Answer 4: using <code>pkg::fun()</code> makes calls to add-on packages explicit and easy to differentiate from the native functions developed in <code>sap</code>.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<p><strong><em>Question 5: What does the <code>NAMESPACE</code> do when my package is installed by a user?</em></strong></p>
<p>Answer 5: managing the <code>NAMESPACE</code> ensures your app-package works when it’s installed and loaded on another machine, because R will read your package namespace to find what it imports and exports.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></p>
<p><strong><em>Question 6: Where should I place the <code>@importFrom</code> tag in the code below R/?</em></strong></p>
<p>Answer 6: place the <code>@importFrom pkg fun</code> tag directly above the code using the add-on function. You can also consolidate all <code>@import</code> and <code>@importFrom</code> tags into a single package doc file (i.e., <code>R/[sap]-package.R</code>) by calling <code>usethis::use_package_doc()</code>.</p>
<p><strong><em>Question 7: Should I be using <code>@importFrom</code> or <code>@import</code> from?</em></strong></p>
<p>Answer 7: prefer <code>@importFrom</code> over <code>@import</code>, but try to avoid using either.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> <a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></p>
<p><strong><em>Question 8: Where can I find more information about package namespaces and imports?</em></strong></p>
<p>Answer 8a: Imports are described briefly in R Packages, 2ed<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> and covered in-depth in Advanced R, 2ed.<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a></p>
<p>Answer 8b: <em>“Each namespace has an <strong>imports</strong> environment that can contain bindings to functions used by the package that are defined in another package.”</em></p>
<p>Answer 8c: <em>“The <strong>imports</strong> environment is controlled by the package developer with the <code>NAMESPACE</code> file. Specifically, directives such as <code>importFrom()</code> and <code>imports()</code> populate this environment.”</em></p>
<p>In order for app-package to work, users needs to have access to any add-on packages that are called in the code below <code>R/</code>. Knowing when, why, how and what happens to imports helps you decide how to fit these habits into your package development workflow.</p>
</section>
</section>
<section id="checking-dependencies" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="checking-dependencies">Checking dependencies</h2>
<p>With all the moving parts in dependency management, it can be easy to forget if you’ve documented everything correctly. So far we haven’t covered using <code>devtools::check()</code> as part of your app-package habits (which <a href="https://mastering-shiny.org/scaling-packaging.html#r-cmd-check">is fine</a>), but this is one area it’s particularly helpful.</p>
<p>For example, if I had listed <code>shiny</code> as an import using the <code>@import</code> tag (resulting in the <code>import(shiny)</code> directive in the <code>NAMESPACE</code>), <code>devtools::check()</code> would produce the following error:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>── R CMD check results ────────────────────────── sap 0.0.0.9620 ────</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>Duration: 7.4s</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>❯ checking package dependencies ... ERROR</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  Namespace dependency missing from DESCRIPTION Imports/Depends entries: ‘shiny’</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  See section ‘The DESCRIPTION file’ in the ‘Writing R Extensions’</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  manual.</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>1 error ✖ | 0 warnings ✔ | 0 notes ✔</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>Error: R CMD check found ERRORs</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>Execution halted</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>Exited with status 1.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="recap" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="recap">Recap</h2>
<p>Below are the main takeaways from managing the imports and exports from your app-package:</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.10em;">Dependencies recap</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #282b2d;">
<p>This chapter covered:</p>
<ul>
<li><p><strong>Exports</strong>: Aim for a balance between simplicity and utility when deciding which functions to export (i.e., what functions should be available to users who install your package). Export objects from using <code>@export</code></p></li>
<li><p><strong>Imports</strong>: Use <code>pkg::fun()</code> syntax when you use add-on package functions and include them in the <code>Imports</code> field of the <code>DESCRIPTION</code> file. App-packages use so many <code>shiny</code> functions it makes sense to include <code>@import shiny</code> to 1) ensure all of these functions are available, and 2) you won’t need to use <code>pkg::fun()</code>.</p>
<ul>
<li><p><strong><code>DESCRIPTION</code> <code>Imports</code></strong> This field lists the packages your app-package uses. All add-on packages used in the <code>R/</code> folder must be listed in the <code>Imports</code> field. These functions can be called using the <code>pkg::fun()</code> syntax (or with <code>@importFrom()</code>). Functions from these packages will be available for your package, but not for the user unless they use the <code>::</code> operator or load the package themselves with <code>library()</code>.</p></li>
<li><p><strong><code>NAMESPACE</code> imports</strong>: The <code>@import</code>/<code>@importFrom</code> tags make the functions from add-on packages available to your package. Favor using <code>@importFrom</code> over <code>@import</code> for add-on package functions (the only exception being <code>shiny</code>, which you’d want to use <code>@import</code>).</p></li>
</ul></li>
</ul>
<p>The <code>Imports</code> field in the <code>DESCRIPTION</code> handles package-level dependencies (and it is managed manually or with <code>usethis::use_package()</code>), while the <code>NAMESPACE</code> handles function-level access (with <code>@export</code> and <code>@import</code>/<code>@importFrom</code>). Multiple packages can help you manage the dependencies in your app-package, and these are covered in the <a href="./entanglement.html">Dependency hell</a> chapter.</p>
</div>
</div>
</div>
</div>
<p>If you’d like to read more about package dependencies, I recommend <a href="https://cran.r-project.org/doc/manuals/R-exts.html">Writing R Extensions</a> (specifically the sections on dependencies <a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a> and namespaces <a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a>).</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="font-weight: bold; font-size: 1.05em;">See a typo, error, or something missing?</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div style="font-size: 0.95em; color: #282b2d;">
<p>Please open an issue on <a href="https://github.com/mjfrigaard/shiny-app-pkgs/issues/new">GitHub</a></p>
</div>
</div>
</div>
</div>
<p>In the next section, we’ll cover how to ensure the <code>movies.RData</code> can be stored and loaded in our app-package!</p>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>I’ve made this process somewhat easier by explicitly namespacing all of the add-on package functions in <code>sap</code> (i.e., with <code>pkg::fun()</code>).<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Read more in the <a href="https://r-pkgs.org/dependencies-in-practice.html#exports">Exports section of R Packages, 2nd Ed</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Additional fields exists (i.e., <code>Remotes</code>), but these are <a href="https://r-pkgs.org/dependencies-in-practice.html#depending-on-the-development-version-of-a-package">special circumstances</a>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Read more about this in the section titled, <a href="https://r-pkgs.org/dependencies-in-practice.html#sec-dependencies-in-imports-r-code">‘In code below R/’ in R Packages, 2ed</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Using <code>@import</code> is not generally considered best practice, but it makes sense for app-packages: <em>…for Shiny apps, I recommend using <code>@import shiny</code> to make all the functions in the Shiny package easily available.</em> <a href="https://mastering-shiny.org/scaling-packaging.html#r-cmd-check">Mastering Shiny, R CMD check</a>”<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Read more about using <code>ggplot2</code> in packages in the section titled, ‘<a href="https://ggplot2.tidyverse.org/dev/articles/ggplot2-in-packages.html#referring-to-ggplot2-functions">Referring to <code>ggplot2</code> functions</a>’<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>See the section titled, ‘<a href="https://r-pkgs.org/dependencies-in-practice.html#confusion-about-imports">Confusion about Imports</a>’ in <a href="https://r-pkgs.org/">R Packages, 2ed</a>, “<em>Listing a package in <code>Imports</code> in <code>DESCRIPTION</code> does not ‘import’ that package.</em>”<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Users can access functions from add-on packages with the <code>pkg::fun</code> syntax.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>“<em>Our recommended default is to call external functions using the <code>package::function()</code> syntax.</em>” - <a href="https://r-pkgs.org/dependencies-in-practice.html#sec-dependencies-in-imports">R Packages, 2ed</a><a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p><em>The namespace controls the search strategy for variables used by functions in the package. If not found locally, R searches the package namespace first, then the imports, then the base namespace and then the normal search path (so the base namespace precedes the normal search rather than being at the end of it).</em> - <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Package-namespaces">Writing R Extensions</a><a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>“<em>Using <code>importFrom</code> selectively rather than <code>Imports</code> is good practice and recommended notably <span style="font-weight: bold;">when importing from packages with more than a dozen exports and especially from those written by others (so what they export can change in future)</span>.</em>” - <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Specifying-imports-and-exports">Specifying imports and exports</a>.<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>“<em>Specifically, we recommend that you <span style="font-weight: bold;">default to not importing anything from [add-on packages] into your namespace</span>. This makes it very easy to identify which functions live outside of your package, which is especially useful when you read your code in the future. This also eliminates any concerns about name conflicts between [add-on packages] and your package.</em>” - <a href="https://r-pkgs.org/dependencies-in-practice.html#sec-dependencies-in-imports">R Packages, 2ed</a><a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>See the <a href="https://r-pkgs.org/dependencies-mindset-background.html#function-lookup-inside-a-package">Function lookup inside a package</a> section of <a href="https://r-pkgs.org/">R Packages, 2ed</a><a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>See the <a href="https://adv-r.hadley.nz/environments.html#search-path">Package environments and the search path</a> of <a href="https://adv-r.hadley.nz/index.html">Advanced R, 2ed</a><a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>See section <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Package-Dependencies">1.1.3 Package Dependencies</a> in <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html">Writing R Extensions</a><a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>See section <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Package-namespaces">1.5, Package namespaces</a> in <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html">Writing R Extensions</a><a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/mjfrigaard\.github\.io\/shiny-app-pkgs\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./document.html" class="pagination-link" aria-label="Documentation">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Documentation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data.html" class="pagination-link" aria-label="Data">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/mjfrigaard/shiny-app-pkgs/edit/main/dependencies.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/mjfrigaard/shiny-app-pkgs/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>